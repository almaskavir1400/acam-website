
{% extends "base.html" %}

{% block title %}ููฺฉุงุฑ ุจุง ูุง | ุงููุงุณ ฺฉูุฑ{% endblock %}

{% block content %}

<!-- ๐ท ุณฺฉุดู ูุฏุฑ ุตูุญู -->
<section class="cooperation-header bg-blue-900 py-20 px-6 text-center text-white">
  <h1 class="bg-white/60 mx-4 px-1 py-4 inline-block text-blue-900 text-stroke-blue text-2xl lg:text-4xl font-bold text-center ml-auto mb-4 animate-breathe"
      style="font-family: 'TitrZebr'; box-shadow: -15px 15px 30px rgba(255,255,255,1);">
    ุจู ุชู ูุชุฎุตุตุงู ุงููุงุณ ฺฉูุฑ ุจูพููุฏุฏ
  </h1>
  <p class="text-xl md:text-2xl font-bold leading-relaxed my-5" style="text-shadow: -3px 3px 1px rgba(0,0,0,1); line-height: 3rem;">
    ุงฺฏุฑ ุจู ุฑุดุฏุ ูุณุฆููุชโูพุฐุฑ ู ฺฉุงุฑ ุชู ุนูุงููโููุฏ ูุณุชุฏุ ููุชุธุฑ ุดูุง ูุณุชู!
  </p>
</section>

<!-- ๐ท ููุงุฑ ุฌุฏุงฺฉููุฏู ุจุงูุง -->
<div class="w-full h-[5px] bg-[linear-gradient(to_left,white,#1e3a8a)]"></div>

<!-- ๐ท ุจุฎุด ูุนุฑู ุดุฑฺฉุช ู ูุฒุงุง -->
<section class="cooperation-intro grid grid-cols-1 md:grid-cols-2 gap-8 px-8 py-16 bg-blue-900 text-white">

  <!-- ๐ฆ ุณุชูู ุณูุช ุฑุงุณุช: ุชุตูุฑ ูุนุฑู -->
  <div class="flex items-center justify-center">
    <img src="/static/icon/commitment.png" alt="ุชุนูุฏ ุดุบู" class="w-full max-w-sm">
  </div>

  <!-- ๐ฆ ุณุชูู ุณูุช ฺูพ: ูุฒุงุง -->
  <div class="flex flex-col justify-center space-y-6" style="direction: rtl;">
    <div class="mb-10 text-center lg:text-right">
      <p class="text-xl lg:text-3xl font-black bg-black/20 px-2 py-5 inline-block"
         style="font-family:'TitrZebr'; box-shadow: -15px 15px 30px rgba(0,0,0,1); text-shadow: -2px 2px 1px rgba(0,0,0,1); line-height: 3rem;">
        ูุญุท ูพูุง ู ุญุฑููโุง ุจุฑุง ุฑุดุฏ
      </p>
    </div>
    <div class="text-lg font-bold leading-loose pr-5 space-y-4 text-right" style="text-shadow: -2px 2px 1px rgba(0,0,0,1);">
      <p>โ ูุญุท ฺฉุงุฑ ุญุฑููโุง ู ุฏูุณุชุงูู</p>
      <p>โ ูุฑุตุชโูุง ุฑุดุฏ ุดุบู ู ุงุฏฺฏุฑ ูุฏุงูู</p>
      <p>โ ูพุฑูฺูโูุง ุตูุนุช ูุงูุน ู ฺุงูุด</p>
      <p>โ ูพุงุฏุงุดโูุง ู ูุฒุงุง ุงูฺฏุฒุด</p>
    </div>
  </div>
  
</section>

<!-- ๐ท ููุงุฑ ุฌุฏุงฺฉููุฏู ูพุงู -->
<div class="w-full h-[5px] bg-[linear-gradient(to_right,white,#1e3a8a)]"></div>

<!-- ๐ท ูุฑู ุฏุฑุฎูุงุณุช ููฺฉุงุฑ -->
<section class="cooperation-form grid grid-cols-1 px-6 py-10 bg-blue-900 text-white relative overflow-hidden">
  <form id="job-form" class="z-10 max-w-4xl mx-auto text-center">
    <!-- ๐ ุนููุงู ูุฑู -->
    <h3 class="text-2xl md:text-3xl font-black bg-black/20 px-2 py-6 inline-block my-10"
        style="font-family:'TitrZebr'; box-shadow: -15px 15px 30px rgba(0,0,0,1); text-shadow: -2px 2px 1px rgba(0,0,0,1);">
      ูุฑุตุช ููฺฉุงุฑ ุจุง ูุง
    </h3>

    <!-- ๐ ุชูุถุญุงุช ุงููู -->
    <p class="bg-black/20 text-lg font-bold leading-loose text-right p-5 m-5 max-w-3xl mx-auto"
       style="text-shadow: -1px 1px 1px rgba(0,0,0,0.7); line-height: 3rem;">
      ูุง ุจู ุฏูุจุงู ุงูุฑุงุฏ ุจุงุงูฺฏุฒู ู ูุชุฎุตุต ูุณุชู ฺฉู ุจุง ููุงุฑุช ู ุชุฌุฑุจู ุฎูุฏ ุจุชูุงููุฏ ุฏุฑ ูุณุฑ ุฑุดุฏ ู ุชูุณุนู ูุฌููุนู ูุง ุณูู ุจุงุดูุฏ.<br>
      ูุทูุงู ูุฑู ุฒุฑ ุฑุง ุจุง ุฏูุช ุชฺฉูู ููุงุฏ. ุงุทูุงุนุงุช ุดูุง ุจูโุตูุฑุช ูุญุฑูุงูู ุจุฑุฑุณ ุฎูุงูุฏ ุดุฏ.<br>
      ููุฑุงู ุดูู ู ุขูุฏูโุง ูููู ุฑุง ุฏุฑ ฺฉูุงุฑ ฺฉุฏฺฏุฑ ุฑูู ุจุฒูู.
    </p>

    <!-- ๐ ููุฏูุง ูุฑู -->
    <div class="space-y-5 bg-black/40 p-6 rounded-xl text-right">
      <input type="text" name="fullname" placeholder="ูุงู ู ูุงู ุฎุงููุงุฏฺฏ" class="input-field">
      <input type="text" name="father" placeholder="ูุงู ูพุฏุฑ" class="input-field">
      <select name="gender" class="input-select">
        <option hidden>ุฌูุณุช</option>
        <option>ูุฑุฏ</option>
        <option>ุฒู</option>
      </select>
      <input type="text" name="birthdate" placeholder="ุชุงุฑุฎ ุชููุฏ (ูุซุงู: 1367/05/31)" class="input-field">
      <input type="text" name="national_id" placeholder="ฺฉุฏ ูู" class="input-field">
      <input type="text" name="id_location" placeholder="ูุญู ุตุฏูุฑ ุดูุงุณูุงูู" class="input-field">
      <select name="marital_status" class="input-select">
        <option hidden>ูุถุนุช ุชุงูู</option>
        <option>ูุฌุฑุฏ</option>
        <option>ูุชุงูู</option>
      </select>
      <input type="text" name="children" placeholder="ุชุนุฏุงุฏ ูุฑุฒูุฏ" class="input-field">
      <select name="military" class="input-select">
        <option hidden>ูุถุนุช ูุธุงู ูุธูู</option>
        <option>ูพุงุงู ุฎุฏูุช</option>
        <option>ูุนุงู</option>
        <option>ูุดููู</option>
      </select>
      <textarea name="address" rows="2" placeholder="ูุดุงู ูุญู ุณฺฉููุช" class="input-field"></textarea>
      <input type="tel" name="phone" placeholder="ุดูุงุฑู ุชูุงุณ" class="input-field" style="text-align: right;" dir="rtl">
      <input type="email" name="email" placeholder="ุงูู" class="input-field">
      <input type="text" name="education" placeholder="ุขุฎุฑู ูุฏุฑฺฉ ุชุญุตู" class="input-field">
      <input type="text" name="experience" placeholder="ุณุงุจูู ฺฉุงุฑ (ุชุนุฏุงุฏ ุณุงู)" class="input-field">
      <textarea name="message" rows="4" placeholder="ุชูุถุญุงุช ุชฺฉูู / ุณูุงุจู / ุนูุงููโููุฏโูุง" class="input-field"></textarea>

      <!-- ๐ฉ ุฏฺฉูู ุงุฑุณุงู -->
      <button type="submit" class="bg-blue-900 hover:bg-black transition px-4 py-2 rounded-xl font-bold w-full">
        ุงุฑุณุงู ุฏุฑุฎูุงุณุช
      </button>

      <div id="job-form-message" class="hidden text-orange-300 mt-4 font-bold text-center"></div>
    </div>
  </form>
</section>

<!-- ๐ท ุงุณฺฉุฑูพุช ุงุฑุณุงู ูุฑู ุจู ุณุฑูุฑ (API) -->
<script>
document.getElementById("job-form").addEventListener("submit", async function (e) {
  e.preventDefault();
  const form = e.target;
  const data = Object.fromEntries(new FormData(form).entries());

  const response = await fetch("/api/join-request", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  });

  const result = await response.json();
  const msgBox = document.getElementById("job-form-message");
  msgBox.innerText = result.message;
  msgBox.classList.remove("hidden");
  setTimeout(() => msgBox.classList.add("hidden"), 5000);
});
</script>

<!-- ๐ท ฺฉูุงุณโูุง ูุฑู ุจุฑุง ุงุณุชุงูโุฏู -->
<style>
.input-field {
  width: 100%;
  padding: 0.5rem 1rem;
  border-radius: 0.75rem;
  background: transparent;
  color: white;
  border: 2px solid white;
  outline: none;
}
.input-field:focus {
  box-shadow: 0 0 0 2px white;
}
.input-select {
  width: 100%;
  padding: 0.5rem 1rem;
  border-radius: 0.75rem;
  background: #1e3a8a;
  color: white;
  border: 2px solid white;
  outline: none;
}
.input-select:focus {
  box-shadow: 0 0 0 2px white;
}
</style>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const layers = document.querySelectorAll(".particles-layer");

  layers.forEach(layer => {
    const sectionHeight = layer.offsetHeight;

    for (let i = 0; i < 150; i++) {
      const p = document.createElement("div");
      p.classList.add("particle");
      p.style.left = Math.random() * 100 + "%";
      p.style.bottom = Math.random() * 200 - 100 + "px";
      p.style.animationDuration = 1 + Math.random() * 1 + "s";
      p.style.animationDelay = Math.random() * 1 + "s";

      // ุชูุธู ุงุฑุชูุงุน ุฏุงูุงูฺฉ ุญุฑฺฉุช
      const distance = -(sectionHeight + 100); // ุญุฑฺฉุช ุชุง ุจุงูุง ุณฺฉุดู + ุงุถุงูู
      p.style.setProperty("--move-distance", `${distance}px`);

      layer.appendChild(p);
    }
  });
});
</script>

{% endblock %}
